# ğŸ“š Pixie í˜ì´ì§€ ê°œë°œ ê°€ì´ë“œ

## ëª©ì°¨
1. [í”„ë¡œì íŠ¸ ê°œìš”](#í”„ë¡œì íŠ¸-ê°œìš”)
2. [ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜](#ê¸°ìˆ -ìŠ¤íƒ-ë°-ì•„í‚¤í…ì²˜)
3. [ê° í˜ì´ì§€ë³„ ê°œë°œ ê°€ì´ë“œ](#ê°-í˜ì´ì§€ë³„-ê°œë°œ-ê°€ì´ë“œ)
   - [ë©”ì¸ ëŒ€ì‹œë³´ë“œ](#ë©”ì¸-ëŒ€ì‹œë³´ë“œ)
   - [íˆ¬ì ì„¤ë¬¸](#íˆ¬ì-ì„¤ë¬¸)
   - [íˆ¬ì í•™ìŠµ](#íˆ¬ì-í•™ìŠµ)
   - [AI ì±—ë´‡](#ai-ì±—ë´‡)
   - [ì£¼ê°€ ì˜ˆì¸¡](#ì£¼ê°€-ì˜ˆì¸¡)
   - [ë‰´ìŠ¤/ì´ìŠˆ](#ë‰´ìŠ¤ì´ìŠˆ)
   - [MY íˆ¬ì](#my-íˆ¬ì)
4. [ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë° ì„œë¹„ìŠ¤](#ê³µí†µ-ì»´í¬ë„ŒíŠ¸-ë°-ì„œë¹„ìŠ¤)
5. [ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„](#ë°ì´í„°ë² ì´ìŠ¤-ì„¤ê³„)
6. [API ì—”ë“œí¬ì¸íŠ¸ ì •ì˜](#api-ì—”ë“œí¬ì¸íŠ¸-ì •ì˜)
7. [ë³´ì•ˆ ë° ì¸ì¦](#ë³´ì•ˆ-ë°-ì¸ì¦)
8. [í…ŒìŠ¤íŠ¸ ì „ëµ](#í…ŒìŠ¤íŠ¸-ì „ëµ)
9. [ë°°í¬ ê°€ì´ë“œ](#ë°°í¬-ê°€ì´ë“œ)

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

PixieëŠ” AI ê¸°ë°˜ ê°œì¸í™” íˆ¬ì ìë¬¸ ì‹œìŠ¤í…œìœ¼ë¡œ, ì‚¬ìš©ìì—ê²Œ ë§ì¶¤í˜• íˆ¬ì ì¡°ì–¸ê³¼ êµìœ¡ì„ ì œê³µí•©ë‹ˆë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
- **ê°œì¸í™” íˆ¬ì ë¶„ì„**: ì‚¬ìš©ì í”„ë¡œí•„ ê¸°ë°˜ ë§ì¶¤í˜• íˆ¬ì ì¶”ì²œ
- **AI ì±—ë´‡ ìƒë‹´**: ë‹¤ì¤‘ AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì„ í†µí•œ ì‹¤ì‹œê°„ íˆ¬ì ìƒë‹´
- **íˆ¬ì êµìœ¡**: ë‹¨ê³„ë³„ í•™ìŠµ ì‹œìŠ¤í…œê³¼ ì¸í„°ë™í‹°ë¸Œ í€´ì¦ˆ
- **ì‹œì¥ ë¶„ì„**: ì‹¤ì‹œê°„ ì£¼ê°€ ì˜ˆì¸¡ ë° ë‰´ìŠ¤ ë¶„ì„
- **í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬**: ê°œì¸ íˆ¬ì í˜„í™© ì¶”ì  ë° ì„±ê³¼ ë¶„ì„

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ ë° ì•„í‚¤í…ì²˜

### í”„ë¡ íŠ¸ì—”ë“œ
- **ì–¸ì–´**: HTML5, CSS3, JavaScript (ES6+)
- **í”„ë ˆì„ì›Œí¬**: Bootstrap 5
- **ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬**: Chart.js, D3.js
- **ì‹¤ì‹œê°„ í†µì‹ **: WebSocket, AJAX

### ë°±ì—”ë“œ
- **ì–¸ì–´**: Python 3.9+
- **í”„ë ˆì„ì›Œí¬**: Flask
- **AI/ML**: OpenAI API, TensorFlow, scikit-learn
- **ë°ì´í„°ë² ì´ìŠ¤**: SQLite (ê°œë°œ), PostgreSQL (í”„ë¡œë•ì…˜)
- **ìºì‹±**: Redis

### í”„ë¡œì íŠ¸ êµ¬ì¡°
```
íˆ¬ìì±—ë´‡/
â”œâ”€â”€ web/                        # ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ app.py                 # ë©”ì¸ Flask ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ blueprints/            # ëª¨ë“ˆí™”ëœ ë¼ìš°íŠ¸
â”‚   â”œâ”€â”€ services/              # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ static/                # ì •ì  íŒŒì¼ (CSS, JS, ì´ë¯¸ì§€)
â”‚   â””â”€â”€ templates/             # HTML í…œí”Œë¦¿
â”œâ”€â”€ src/                       # í•µì‹¬ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”œâ”€â”€ investment_advisor.py  # AI íˆ¬ì ìƒë‹´ ì‹œìŠ¤í…œ
â”‚   â”œâ”€â”€ data_collector.py      # ë°ì´í„° ìˆ˜ì§‘
â”‚   â””â”€â”€ financial_data_processor.py  # ë°ì´í„° ì²˜ë¦¬
â””â”€â”€ docs/                      # ë¬¸ì„œ
```

---

## ğŸ“± ê° í˜ì´ì§€ë³„ ê°œë°œ ê°€ì´ë“œ

### ë©”ì¸ ëŒ€ì‹œë³´ë“œ

#### ê°œìš”
ì‚¬ìš©ìì—ê²Œ ì¢…í•©ì ì¸ íˆ¬ì í˜„í™©ê³¼ ì‹œì¥ ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” ì¤‘ì•™ í—ˆë¸Œ

#### í•µì‹¬ ê¸°ëŠ¥
1. **ì‹œì¥ í˜„í™© í‘œì‹œ**
   - KOSPI/KOSDAQ ì§€ìˆ˜
   - í™˜ìœ¨ ì •ë³´
   - ì£¼ìš” ë‰´ìŠ¤

2. **í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½**
   - ì´ ìì‚° ê°€ì¹˜
   - ìˆ˜ìµë¥ 
   - ë³´ìœ  ì¢…ëª© í˜„í™©

3. **AI ì¶”ì²œ**
   - ì¼ì¼ íˆ¬ì ì¶”ì²œ
   - ìœ„í—˜ ì•Œë¦¼

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# web/app.py
@app.route('/dashboard')
@login_required
def dashboard():
    """ë©”ì¸ ëŒ€ì‹œë³´ë“œ"""
    user_id = session.get('user_id')
    
    # ì‹œì¥ ë°ì´í„° ì¡°íšŒ
    market_data = get_market_summary()
    
    # í¬íŠ¸í´ë¦¬ì˜¤ ì¡°íšŒ
    portfolio = get_user_portfolio(user_id)
    
    # AI ì¶”ì²œ ìƒì„±
    recommendations = get_ai_recommendations(user_id)
    
    return render_template('dashboard.html',
                         market_data=market_data,
                         portfolio=portfolio,
                         recommendations=recommendations)

@app.route('/api/market-summary')
def get_market_summary():
    """ì‹¤ì‹œê°„ ì‹œì¥ ë°ì´í„° API"""
    try:
        data = {
            'kospi': get_kospi_index(),
            'kosdaq': get_kosdaq_index(),
            'exchange_rate': get_exchange_rate(),
            'timestamp': datetime.now().isoformat()
        }
        return jsonify(data)
    except Exception as e:
        logger.error(f"ì‹œì¥ ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨: {e}")
        return jsonify({'error': 'ë°ì´í„° ì¡°íšŒ ì‹¤íŒ¨'}), 500
```

#### í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„
```javascript
// static/js/dashboard.js
class DashboardManager {
    constructor() {
        this.init();
    }
    
    init() {
        this.loadMarketData();
        this.loadPortfolio();
        this.setupRefreshInterval();
    }
    
    async loadMarketData() {
        try {
            const response = await fetch('/api/market-summary');
            const data = await response.json();
            this.updateMarketUI(data);
        } catch (error) {
            console.error('ì‹œì¥ ë°ì´í„° ë¡œë“œ ì‹¤íŒ¨:', error);
        }
    }
    
    updateMarketUI(data) {
        // KOSPI ì—…ë°ì´íŠ¸
        document.getElementById('kospi-index').textContent = data.kospi.value;
        document.getElementById('kospi-change').textContent = data.kospi.change + '%';
        
        // KOSDAQ ì—…ë°ì´íŠ¸
        document.getElementById('kosdaq-index').textContent = data.kosdaq.value;
        document.getElementById('kosdaq-change').textContent = data.kosdaq.change + '%';
    }
}
```

---

### íˆ¬ì ì„¤ë¬¸

#### ê°œìš”
ì‚¬ìš©ìì˜ íˆ¬ì ì„±í–¥ê³¼ ìœ„í—˜ ì„ í˜¸ë„ë¥¼ ë¶„ì„í•˜ì—¬ ê°œì¸í™”ëœ íˆ¬ì í”„ë¡œí•„ ìƒì„±

#### í•µì‹¬ ê¸°ëŠ¥
1. **ë‹¨ê³„ë³„ ì„¤ë¬¸**
   - íˆ¬ì ê²½í—˜
   - ìœ„í—˜ ì„ í˜¸ë„
   - íˆ¬ì ëª©í‘œ
   - ì¬ë¬´ ìƒí™©

2. **ì‹¤ì‹œê°„ ë¶„ì„**
   - ë‹µë³€ ê¸°ë°˜ ì ìˆ˜ ê³„ì‚°
   - íˆ¬ì ì„±í–¥ ë¶„ë¥˜
   - ìœ„í—˜ ë“±ê¸‰ ê²°ì •

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# web/services/survey_service.py
class SurveyService:
    def __init__(self):
        self.questions = self.load_questions()
    
    def analyze_responses(self, responses):
        """ì„¤ë¬¸ ì‘ë‹µ ë¶„ì„"""
        scores = {
            'risk_tolerance': 0,
            'investment_horizon': 0,
            'financial_knowledge': 0,
            'investment_goals': 0
        }
        
        for response in responses:
            category = response['category']
            scores[category] += response['value']
        
        # íˆ¬ì ì„±í–¥ ê²°ì •
        profile = self.determine_profile(scores)
        
        return {
            'scores': scores,
            'profile': profile,
            'risk_level': self.calculate_risk_level(scores),
            'recommendations': self.generate_recommendations(profile)
        }
    
    def determine_profile(self, scores):
        """íˆ¬ì ì„±í–¥ ê²°ì •"""
        if scores['risk_tolerance'] < 30:
            return 'conservative'
        elif scores['risk_tolerance'] < 70:
            return 'balanced'
        else:
            return 'aggressive'
```

#### ì„¤ë¬¸ UI êµ¬í˜„
```html
<!-- templates/survey.html -->
<div class="survey-container">
    <div class="progress-bar">
        <div class="progress-fill" style="width: 0%"></div>
    </div>
    
    <form id="survey-form">
        <div class="question-container" data-question="1">
            <h3>íˆ¬ì ì†ì‹¤ì— ëŒ€í•œ ê·€í•˜ì˜ ë°˜ì‘ì€?</h3>
            <div class="options">
                <label>
                    <input type="radio" name="q1" value="1">
                    ë§¤ìš° ë¯¼ê°í•¨ - ì ì„ ëª» ì´ë£¸
                </label>
                <label>
                    <input type="radio" name="q1" value="3">
                    ë³´í†µ - ì ë‹¹íˆ ì‹ ê²½ ì”€
                </label>
                <label>
                    <input type="radio" name="q1" value="5">
                    ì „í˜€ ë¯¼ê°í•˜ì§€ ì•ŠìŒ
                </label>
            </div>
        </div>
    </form>
    
    <div class="navigation-buttons">
        <button id="prev-btn" onclick="surveyManager.previousQuestion()">ì´ì „</button>
        <button id="next-btn" onclick="surveyManager.nextQuestion()">ë‹¤ìŒ</button>
    </div>
</div>
```

---

### íˆ¬ì í•™ìŠµ

#### ê°œìš”
íˆ¬ì ì´ˆë³´ìë¶€í„° ì¤‘ê¸‰ìê¹Œì§€ ë‹¨ê³„ë³„ íˆ¬ì êµìœ¡ ì œê³µ

#### í•µì‹¬ ê¸°ëŠ¥
1. **í•™ìŠµ ëª¨ë“ˆ**
   - ê¸°ì´ˆ: íˆ¬ì ê°œë…, ì£¼ì‹ ì‹œì¥ ì´í•´
   - ì¤‘ê¸‰: ê¸°ìˆ ì /ê¸°ë³¸ì  ë¶„ì„
   - ê³ ê¸‰: íŒŒìƒìƒí’ˆ, ê¸€ë¡œë²Œ íˆ¬ì

2. **ì¸í„°ë™í‹°ë¸Œ ì½˜í…ì¸ **
   - ì¹´ë“œë‰´ìŠ¤
   - í€´ì¦ˆ ì‹œìŠ¤í…œ
   - ì§„ë„ ì¶”ì 

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# web/services/learning_service.py
class LearningService:
    def __init__(self):
        self.modules = self.load_modules()
    
    def get_user_progress(self, user_id):
        """ì‚¬ìš©ì í•™ìŠµ ì§„ë„ ì¡°íšŒ"""
        progress = db.query(
            "SELECT * FROM user_learning_progress WHERE user_id = ?",
            (user_id,)
        )
        
        completed_lessons = len([p for p in progress if p['completed']])
        total_lessons = self.get_total_lessons()
        
        return {
            'completed': completed_lessons,
            'total': total_lessons,
            'percentage': (completed_lessons / total_lessons) * 100,
            'current_module': self.get_current_module(user_id),
            'achievements': self.get_achievements(user_id)
        }
    
    def complete_lesson(self, user_id, lesson_id):
        """ê°•ì˜ ì™„ë£Œ ì²˜ë¦¬"""
        # ì™„ë£Œ ê¸°ë¡
        db.execute(
            "INSERT INTO user_learning_progress (user_id, lesson_id, completed_at) VALUES (?, ?, ?)",
            (user_id, lesson_id, datetime.now())
        )
        
        # í€´ì¦ˆ í™•ì¸
        quiz = self.get_lesson_quiz(lesson_id)
        if quiz:
            return {'next': 'quiz', 'quiz_id': quiz['id']}
        else:
            return {'next': 'lesson', 'lesson_id': self.get_next_lesson(lesson_id)}
```

#### ì¹´ë“œë‰´ìŠ¤ êµ¬í˜„
```javascript
// static/js/learning-cardnews.js
class CardNewsViewer {
    constructor(container) {
        this.container = container;
        this.currentSlide = 0;
        this.slides = [];
        this.init();
    }
    
    init() {
        this.loadSlides();
        this.renderSlide(0);
        this.setupSwipeGestures();
    }
    
    loadSlides() {
        // ì„œë²„ì—ì„œ ìŠ¬ë¼ì´ë“œ ë°ì´í„° ë¡œë“œ
        fetch('/api/learning/cardnews/' + this.container.dataset.moduleId)
            .then(res => res.json())
            .then(data => {
                this.slides = data.slides;
                this.renderSlide(0);
            });
    }
    
    renderSlide(index) {
        const slide = this.slides[index];
        this.container.innerHTML = `
            <div class="cardnews-slide">
                <img src="${slide.image}" alt="${slide.title}">
                <div class="slide-content">
                    <h3>${slide.title}</h3>
                    <p>${slide.content}</p>
                </div>
            </div>
        `;
    }
}
```

---

### AI ì±—ë´‡

#### ê°œìš”
ë‹¤ì¤‘ AI ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œì„ í†µí•œ ê°œì¸í™”ëœ íˆ¬ì ìƒë‹´

#### í•µì‹¬ ê¸°ëŠ¥
1. **ë‹¤ì¤‘ AI ì—ì´ì „íŠ¸**
   - AI-A: ì´ˆê¸° ì˜ë„ ë¶„ì„
   - AI-A2: ì§ˆë¬¸ ì •ì œ
   - AI-B: ë°ì´í„° ë¶„ì„
   - Final: ì¢…í•© ì‘ë‹µ

2. **ëŒ€í™” ê´€ë¦¬**
   - ì»¨í…ìŠ¤íŠ¸ ìœ ì§€
   - ë©”ëª¨ë¦¬ ì‹œìŠ¤í…œ
   - ì„¸ì…˜ ê´€ë¦¬

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# src/investment_advisor.py
class InvestmentAdvisor:
    def chat(self, user_id, message):
        """AI ì±—ë´‡ ë©”ì¸ ë¡œì§"""
        # ì‚¬ìš©ì í”„ë¡œí•„ ë¡œë“œ
        user_profile = self.get_user_profile(user_id)
        
        # ì‹œì¥ ì»¨í…ìŠ¤íŠ¸ ìˆ˜ì§‘
        market_context = self.get_market_context()
        
        # AI-A: ì´ˆê¸° ë¶„ì„
        ai_a_response = self.generate_ai_a_response(
            message, user_profile, market_context
        )
        
        # AI-A2: ì§ˆë¬¸ ì •ì œ
        ai_a2_response = self.generate_ai_a2_response(
            message, ai_a_response, user_profile
        )
        
        # AI-B: ë°ì´í„° ë¶„ì„
        ai_b_response = self.generate_ai_b_response(
            ai_a2_response, market_context
        )
        
        # ìµœì¢… ì‘ë‹µ ìƒì„±
        final_response = self.generate_final_response(
            message, ai_a_response, ai_a2_response, ai_b_response
        )
        
        # ëŒ€í™” ì €ì¥
        self.save_conversation(user_id, message, final_response)
        
        return final_response
```

#### ì±—ë´‡ UI êµ¬í˜„
```javascript
// static/js/chatbot.js
class ChatbotUI {
    constructor() {
        this.socket = null;
        this.init();
    }
    
    init() {
        this.connectWebSocket();
        this.setupEventListeners();
    }
    
    connectWebSocket() {
        this.socket = new WebSocket('ws://localhost:5000/ws/chat');
        
        this.socket.onmessage = (event) => {
            const data = JSON.parse(event.data);
            this.handleMessage(data);
        };
    }
    
    sendMessage(message) {
        // ì‚¬ìš©ì ë©”ì‹œì§€ í‘œì‹œ
        this.addMessage(message, 'user');
        
        // ì„œë²„ë¡œ ì „ì†¡
        this.socket.send(JSON.stringify({
            type: 'message',
            content: message,
            timestamp: new Date().toISOString()
        }));
        
        // íƒ€ì´í•‘ í‘œì‹œ
        this.showTypingIndicator();
    }
    
    handleMessage(data) {
        this.hideTypingIndicator();
        
        if (data.type === 'response') {
            this.addMessage(data.content, 'ai');
        } else if (data.type === 'suggestions') {
            this.showSuggestions(data.suggestions);
        }
    }
}
```

---

### ì£¼ê°€ ì˜ˆì¸¡

#### ê°œìš”
AI ê¸°ë°˜ ì£¼ê°€ ì˜ˆì¸¡ ë° ê¸°ìˆ ì  ë¶„ì„ ì œê³µ

#### í•µì‹¬ ê¸°ëŠ¥
1. **ì˜ˆì¸¡ ëª¨ë¸**
   - LSTM ê¸°ë°˜ ì‹œê³„ì—´ ì˜ˆì¸¡
   - ê¸°ìˆ ì  ì§€í‘œ ë¶„ì„
   - ì‹ ë¢°êµ¬ê°„ ì œì‹œ

2. **ì‹œê°í™”**
   - ìº”ë“¤ìŠ¤í‹± ì°¨íŠ¸
   - ê±°ë˜ëŸ‰ ë¶„ì„
   - ì˜ˆì¸¡ ê²°ê³¼ ê·¸ë˜í”„

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# src/advanced_stock_predictor.py
class StockPredictor:
    def __init__(self):
        self.model = self.load_model()
    
    def predict_price(self, ticker, days=30):
        """ì£¼ê°€ ì˜ˆì¸¡"""
        # ê³¼ê±° ë°ì´í„° ìˆ˜ì§‘
        historical_data = self.get_historical_data(ticker)
        
        # íŠ¹ì§• ì¶”ì¶œ
        features = self.extract_features(historical_data)
        
        # ì˜ˆì¸¡ ìˆ˜í–‰
        predictions = self.model.predict(features)
        
        # ì‹ ë¢°êµ¬ê°„ ê³„ì‚°
        confidence_interval = self.calculate_confidence_interval(predictions)
        
        return {
            'ticker': ticker,
            'predictions': predictions.tolist(),
            'confidence_interval': confidence_interval,
            'technical_indicators': self.calculate_indicators(historical_data),
            'recommendation': self.generate_recommendation(predictions)
        }
    
    def calculate_indicators(self, data):
        """ê¸°ìˆ ì  ì§€í‘œ ê³„ì‚°"""
        return {
            'rsi': self.calculate_rsi(data),
            'macd': self.calculate_macd(data),
            'bollinger_bands': self.calculate_bollinger_bands(data),
            'moving_averages': {
                'ma5': data['close'].rolling(5).mean(),
                'ma20': data['close'].rolling(20).mean(),
                'ma60': data['close'].rolling(60).mean()
            }
        }
```

#### ì°¨íŠ¸ êµ¬í˜„
```javascript
// static/js/stock-chart.js
class StockChart {
    constructor(container) {
        this.container = container;
        this.chart = null;
        this.init();
    }
    
    init() {
        this.createChart();
        this.loadData();
    }
    
    createChart() {
        const ctx = this.container.getContext('2d');
        this.chart = new Chart(ctx, {
            type: 'candlestick',
            data: {
                datasets: [{
                    label: 'ì£¼ê°€',
                    data: []
                }]
            },
            options: {
                responsive: true,
                scales: {
                    x: {
                        type: 'time',
                        time: {
                            unit: 'day'
                        }
                    }
                }
            }
        });
    }
    
    async loadData() {
        const ticker = this.container.dataset.ticker;
        const response = await fetch(`/api/stock/prediction/${ticker}`);
        const data = await response.json();
        
        this.updateChart(data);
    }
    
    updateChart(data) {
        // ê³¼ê±° ë°ì´í„° í‘œì‹œ
        this.chart.data.datasets[0].data = data.historical;
        
        // ì˜ˆì¸¡ ë°ì´í„° ì¶”ê°€
        this.chart.data.datasets.push({
            label: 'ì˜ˆì¸¡',
            data: data.predictions,
            borderColor: 'rgba(255, 99, 132, 0.8)',
            backgroundColor: 'rgba(255, 99, 132, 0.2)',
            borderDash: [5, 5]
        });
        
        this.chart.update();
    }
}
```

---

### ë‰´ìŠ¤/ì´ìŠˆ

#### ê°œìš”
ì‹¤ì‹œê°„ ê¸ˆìœµ ë‰´ìŠ¤ ìˆ˜ì§‘ ë° AI ê¸°ë°˜ ê°ì„± ë¶„ì„

#### í•µì‹¬ ê¸°ëŠ¥
1. **ë‰´ìŠ¤ ìˆ˜ì§‘**
   - RSS í”¼ë“œ í¬ë¡¤ë§
   - í‚¤ì›Œë“œ í•„í„°ë§
   - ì¤‘ë³µ ì œê±°

2. **ê°ì„± ë¶„ì„**
   - AI ê¸°ë°˜ ê¸ì •/ë¶€ì • ë¶„ì„
   - ì‹œì¥ ì˜í–¥ë„ í‰ê°€
   - ê´€ë ¨ ì¢…ëª© ë§¤í•‘

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# src/news_sentiment_analyzer.py
class NewsSentimentAnalyzer:
    def analyze_news(self, news_items):
        """ë‰´ìŠ¤ ê°ì„± ë¶„ì„"""
        results = []
        
        for news in news_items:
            # ê°ì„± ë¶„ì„
            sentiment = self.analyze_sentiment(news['content'])
            
            # ê´€ë ¨ ì¢…ëª© ì¶”ì¶œ
            related_stocks = self.extract_stock_mentions(news['content'])
            
            # ì‹œì¥ ì˜í–¥ë„ í‰ê°€
            market_impact = self.evaluate_market_impact(
                sentiment, 
                related_stocks,
                news['source_credibility']
            )
            
            results.append({
                'news_id': news['id'],
                'title': news['title'],
                'sentiment': sentiment,
                'related_stocks': related_stocks,
                'market_impact': market_impact,
                'published_at': news['published_at']
            })
        
        return results
    
    def analyze_sentiment(self, text):
        """OpenAIë¥¼ ì‚¬ìš©í•œ ê°ì„± ë¶„ì„"""
        prompt = f"""
        ë‹¤ìŒ ë‰´ìŠ¤ì˜ ê°ì„±ì„ ë¶„ì„í•˜ì„¸ìš”:
        {text}
        
        ì‘ë‹µ í˜•ì‹:
        - sentiment: positive/negative/neutral
        - score: -1.0 ~ 1.0
        - reasoning: íŒë‹¨ ê·¼ê±°
        """
        
        response = self.openai_client.chat.completions.create(
            model="gpt-4o-mini",
            messages=[{"role": "user", "content": prompt}]
        )
        
        return json.loads(response.choices[0].message.content)
```

#### ë‰´ìŠ¤ UI êµ¬í˜„
```html
<!-- templates/news.html -->
<div class="news-container">
    <div class="news-filters">
        <button class="filter-btn active" data-filter="all">ì „ì²´</button>
        <button class="filter-btn" data-filter="positive">ê¸ì •ì </button>
        <button class="filter-btn" data-filter="negative">ë¶€ì •ì </button>
    </div>
    
    <div class="news-list" id="news-list">
        <!-- ë‰´ìŠ¤ ì•„ì´í…œ ë™ì  ë¡œë“œ -->
    </div>
</div>

<script>
class NewsManager {
    constructor() {
        this.currentFilter = 'all';
        this.init();
    }
    
    init() {
        this.loadNews();
        this.setupFilters();
        this.setupAutoRefresh();
    }
    
    async loadNews() {
        const response = await fetch('/api/news/latest');
        const news = await response.json();
        
        this.displayNews(news);
    }
    
    displayNews(news) {
        const container = document.getElementById('news-list');
        container.innerHTML = news
            .filter(item => this.filterNews(item))
            .map(item => this.createNewsCard(item))
            .join('');
    }
    
    createNewsCard(news) {
        const sentimentClass = news.sentiment === 'positive' ? 'positive' : 
                             news.sentiment === 'negative' ? 'negative' : 'neutral';
        
        return `
            <div class="news-card ${sentimentClass}">
                <div class="news-header">
                    <h3>${news.title}</h3>
                    <span class="sentiment-badge">${news.sentiment}</span>
                </div>
                <div class="news-content">
                    <p>${news.summary}</p>
                    <div class="related-stocks">
                        ${news.related_stocks.map(stock => 
                            `<span class="stock-tag">${stock}</span>`
                        ).join('')}
                    </div>
                </div>
                <div class="news-footer">
                    <span class="news-time">${this.formatTime(news.published_at)}</span>
                    <a href="${news.link}" target="_blank">ìì„¸íˆ ë³´ê¸°</a>
                </div>
            </div>
        `;
    }
}
</script>
```

---

### MY íˆ¬ì

#### ê°œìš”
ê°œì¸ íˆ¬ì í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬ ë° ì„±ê³¼ ë¶„ì„

#### í•µì‹¬ ê¸°ëŠ¥
1. **í¬íŠ¸í´ë¦¬ì˜¤ ê´€ë¦¬**
   - ë³´ìœ  ì¢…ëª© í˜„í™©
   - ë§¤ìˆ˜/ë§¤ë„ ê¸°ë¡
   - ìˆ˜ìµë¥  ê³„ì‚°

2. **ì„±ê³¼ ë¶„ì„**
   - ì¼/ì›”/ë…„ ìˆ˜ìµë¥ 
   - ë²¤ì¹˜ë§ˆí¬ ë¹„êµ
   - ë¦¬ìŠ¤í¬ ë¶„ì„

#### êµ¬í˜„ ì˜ˆì‹œ
```python
# web/services/portfolio_service.py
class PortfolioService:
    def get_portfolio_summary(self, user_id):
        """í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½"""
        holdings = self.get_user_holdings(user_id)
        
        # í˜„ì¬ ê°€ì¹˜ ê³„ì‚°
        total_value = 0
        total_profit = 0
        
        for holding in holdings:
            current_price = self.get_current_price(holding['ticker'])
            holding['current_value'] = current_price * holding['quantity']
            holding['profit_loss'] = (current_price - holding['avg_price']) * holding['quantity']
            holding['profit_rate'] = ((current_price - holding['avg_price']) / holding['avg_price']) * 100
            
            total_value += holding['current_value']
            total_profit += holding['profit_loss']
        
        return {
            'holdings': holdings,
            'total_value': total_value,
            'total_invested': total_value - total_profit,
            'total_profit': total_profit,
            'profit_rate': (total_profit / (total_value - total_profit)) * 100 if total_value > total_profit else 0,
            'asset_allocation': self.calculate_asset_allocation(holdings),
            'risk_metrics': self.calculate_risk_metrics(holdings)
        }
    
    def add_transaction(self, user_id, transaction):
        """ê±°ë˜ ì¶”ê°€"""
        # ê±°ë˜ ê²€ì¦
        if not self.validate_transaction(transaction):
            raise ValueError("ìœ íš¨í•˜ì§€ ì•Šì€ ê±°ë˜ì…ë‹ˆë‹¤")
        
        # ê±°ë˜ ì €ì¥
        db.execute("""
            INSERT INTO transactions 
            (user_id, ticker, type, quantity, price, date) 
            VALUES (?, ?, ?, ?, ?, ?)
        """, (
            user_id,
            transaction['ticker'],
            transaction['type'],
            transaction['quantity'],
            transaction['price'],
            transaction['date']
        ))
        
        # í¬íŠ¸í´ë¦¬ì˜¤ ì—…ë°ì´íŠ¸
        self.update_holdings(user_id, transaction)
```

#### í¬íŠ¸í´ë¦¬ì˜¤ ì°¨íŠ¸ êµ¬í˜„
```javascript
// static/js/portfolio-chart.js
class PortfolioChart {
    constructor() {
        this.charts = {};
        this.init();
    }
    
    init() {
        this.createAssetAllocationChart();
        this.createPerformanceChart();
        this.loadPortfolioData();
    }
    
    createAssetAllocationChart() {
        const ctx = document.getElementById('asset-allocation-chart').getContext('2d');
        this.charts.allocation = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: [],
                datasets: [{
                    data: [],
                    backgroundColor: [
                        '#FF6384',
                        '#36A2EB',
                        '#FFCE56',
                        '#4BC0C0',
                        '#9966FF'
                    ]
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'right'
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                const label = context.label || '';
                                const value = context.parsed;
                                const total = context.dataset.data.reduce((a, b) => a + b, 0);
                                const percentage = ((value / total) * 100).toFixed(1);
                                return `${label}: ${percentage}%`;
                            }
                        }
                    }
                }
            }
        });
    }
    
    async loadPortfolioData() {
        const response = await fetch('/api/portfolio/summary');
        const data = await response.json();
        
        this.updateCharts(data);
        this.updateSummaryCards(data);
    }
    
    updateCharts(data) {
        // ìì‚° ë°°ë¶„ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        const allocation = data.asset_allocation;
        this.charts.allocation.data.labels = Object.keys(allocation);
        this.charts.allocation.data.datasets[0].data = Object.values(allocation);
        this.charts.allocation.update();
        
        // ì„±ê³¼ ì°¨íŠ¸ ì—…ë°ì´íŠ¸
        this.updatePerformanceChart(data.performance_history);
    }
}
```

---

## ğŸ”§ ê³µí†µ ì»´í¬ë„ŒíŠ¸ ë° ì„œë¹„ìŠ¤

### ì¸ì¦ ì„œë¹„ìŠ¤
```python
# web/services/auth_service.py
class AuthService:
    def create_session(self, user_id):
        """ì„¸ì…˜ ìƒì„±"""
        session_id = str(uuid.uuid4())
        session['user_id'] = user_id
        session['session_id'] = session_id
        session['created_at'] = datetime.now().isoformat()
        
        # Redisì— ì„¸ì…˜ ì €ì¥
        self.redis_client.setex(
            f"session:{session_id}",
            86400,  # 24ì‹œê°„
            json.dumps({
                'user_id': user_id,
                'created_at': session['created_at']
            })
        )
        
        return session_id
    
    def validate_session(self, session_id):
        """ì„¸ì…˜ ê²€ì¦"""
        session_data = self.redis_client.get(f"session:{session_id}")
        return json.loads(session_data) if session_data else None
```

### ë°ì´í„° ìºì‹± ì„œë¹„ìŠ¤
```python
# web/services/cache_service.py
class CacheService:
    def __init__(self):
        self.redis_client = redis.Redis(host='localhost', port=6379, db=0)
    
    def cache_data(self, key, data, ttl=3600):
        """ë°ì´í„° ìºì‹±"""
        self.redis_client.setex(key, ttl, json.dumps(data))
    
    def get_cached_data(self, key):
        """ìºì‹œ ë°ì´í„° ì¡°íšŒ"""
        data = self.redis_client.get(key)
        return json.loads(data) if data else None
    
    @functools.lru_cache(maxsize=128)
    def get_or_compute(self, key, compute_func, ttl=3600):
        """ìºì‹œ ë˜ëŠ” ê³„ì‚°"""
        cached = self.get_cached_data(key)
        if cached:
            return cached
        
        result = compute_func()
        self.cache_data(key, result, ttl)
        return result
```

---

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### ì£¼ìš” í…Œì´ë¸” êµ¬ì¡°

```sql
-- ì‚¬ìš©ì í”„ë¡œí•„
CREATE TABLE user_profiles (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) UNIQUE NOT NULL,
    risk_tolerance INTEGER,
    investment_horizon INTEGER,
    financial_goals TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- í¬íŠ¸í´ë¦¬ì˜¤
CREATE TABLE portfolio (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL,
    ticker VARCHAR(10) NOT NULL,
    quantity INTEGER NOT NULL,
    avg_price DECIMAL(10,2) NOT NULL,
    purchase_date DATE NOT NULL,
    FOREIGN KEY (user_id) REFERENCES user_profiles(user_id)
);

-- ê±°ë˜ ê¸°ë¡
CREATE TABLE transactions (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL,
    ticker VARCHAR(10) NOT NULL,
    type VARCHAR(10) NOT NULL, -- 'buy' or 'sell'
    quantity INTEGER NOT NULL,
    price DECIMAL(10,2) NOT NULL,
    date TIMESTAMP NOT NULL,
    FOREIGN KEY (user_id) REFERENCES user_profiles(user_id)
);

-- ì±„íŒ… ê¸°ë¡
CREATE TABLE chat_history (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL,
    message TEXT NOT NULL,
    response TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user_profiles(user_id)
);

-- í•™ìŠµ ì§„ë„
CREATE TABLE learning_progress (
    id SERIAL PRIMARY KEY,
    user_id VARCHAR(50) NOT NULL,
    module_id INTEGER NOT NULL,
    lesson_id INTEGER NOT NULL,
    completed BOOLEAN DEFAULT FALSE,
    completed_at TIMESTAMP,
    quiz_score DECIMAL(5,2),
    FOREIGN KEY (user_id) REFERENCES user_profiles(user_id)
);
```

---

## ğŸ”Œ API ì—”ë“œí¬ì¸íŠ¸ ì •ì˜

### ì¸ì¦ ê´€ë ¨
- `POST /api/auth/login` - ë¡œê·¸ì¸
- `POST /api/auth/logout` - ë¡œê·¸ì•„ì›ƒ
- `GET /api/auth/session` - ì„¸ì…˜ í™•ì¸

### ëŒ€ì‹œë³´ë“œ
- `GET /api/dashboard/summary` - ëŒ€ì‹œë³´ë“œ ìš”ì•½
- `GET /api/market/summary` - ì‹œì¥ í˜„í™©
- `GET /api/portfolio/summary` - í¬íŠ¸í´ë¦¬ì˜¤ ìš”ì•½

### ì„¤ë¬¸
- `GET /api/survey/questions` - ì„¤ë¬¸ ì§ˆë¬¸ ì¡°íšŒ
- `POST /api/survey/submit` - ì„¤ë¬¸ ì œì¶œ
- `GET /api/survey/result/{user_id}` - ì„¤ë¬¸ ê²°ê³¼ ì¡°íšŒ

### í•™ìŠµ
- `GET /api/learning/modules` - í•™ìŠµ ëª¨ë“ˆ ëª©ë¡
- `GET /api/learning/lesson/{id}` - ê°•ì˜ ì½˜í…ì¸ 
- `POST /api/learning/complete` - ê°•ì˜ ì™„ë£Œ
- `GET /api/learning/quiz/{id}` - í€´ì¦ˆ ì¡°íšŒ
- `POST /api/learning/quiz/submit` - í€´ì¦ˆ ì œì¶œ

### AI ì±—ë´‡
- `POST /api/chat/send` - ë©”ì‹œì§€ ì „ì†¡
- `GET /api/chat/history` - ëŒ€í™” ê¸°ë¡
- `WS /ws/chat` - WebSocket ì—°ê²°

### ì£¼ê°€ ì˜ˆì¸¡
- `GET /api/stock/prediction/{ticker}` - ì£¼ê°€ ì˜ˆì¸¡
- `GET /api/stock/technical/{ticker}` - ê¸°ìˆ ì  ë¶„ì„
- `GET /api/stock/search` - ì¢…ëª© ê²€ìƒ‰

### ë‰´ìŠ¤
- `GET /api/news/latest` - ìµœì‹  ë‰´ìŠ¤
- `GET /api/news/analysis` - ë‰´ìŠ¤ ë¶„ì„
- `POST /api/news/keywords` - í‚¤ì›Œë“œ ì„¤ì •

### í¬íŠ¸í´ë¦¬ì˜¤
- `GET /api/portfolio/holdings` - ë³´ìœ  ì¢…ëª©
- `POST /api/portfolio/transaction` - ê±°ë˜ ì¶”ê°€
- `GET /api/portfolio/performance` - ì„±ê³¼ ë¶„ì„

---

## ğŸ” ë³´ì•ˆ ë° ì¸ì¦

### ë³´ì•ˆ ì„¤ì •
```python
# web/config.py
class SecurityConfig:
    SECRET_KEY = os.environ.get('FLASK_SECRET_KEY', 'dev-secret-key')
    SESSION_COOKIE_SECURE = True  # HTTPS only
    SESSION_COOKIE_HTTPONLY = True
    SESSION_COOKIE_SAMESITE = 'Lax'
    PERMANENT_SESSION_LIFETIME = timedelta(days=1)
    
    # CORS ì„¤ì •
    CORS_ORIGINS = ['http://localhost:3000']
    
    # Rate limiting
    RATELIMIT_STORAGE_URL = "redis://localhost:6379"
    RATELIMIT_DEFAULT = "100 per hour"
```

### ì¸ì¦ ë°ì½”ë ˆì´í„°
```python
# web/blueprints/utils/decorators.py
def login_required(f):
    @wraps(f)
    def decorated_function(*args, **kwargs):
        if 'user_id' not in session:
            return jsonify({'error': 'ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤'}), 401
        return f(*args, **kwargs)
    return decorated_function

def rate_limit(max_calls=100, window=3600):
    def decorator(f):
        @wraps(f)
        def decorated_function(*args, **kwargs):
            user_id = session.get('user_id', request.remote_addr)
            key = f"rate_limit:{f.__name__}:{user_id}"
            
            try:
                current = redis_client.incr(key)
                if current == 1:
                    redis_client.expire(key, window)
                
                if current > max_calls:
                    return jsonify({'error': 'ìš”ì²­ í•œë„ ì´ˆê³¼'}), 429
                    
            except Exception as e:
                logger.error(f"Rate limit error: {e}")
            
            return f(*args, **kwargs)
        return decorated_function
    return decorator
```

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```python
# tests/test_services.py
import pytest
from web.services.portfolio_service import PortfolioService

class TestPortfolioService:
    def setup_method(self):
        self.service = PortfolioService()
        self.test_user_id = "test_user_123"
    
    def test_calculate_profit_loss(self):
        """ìˆ˜ìµë¥  ê³„ì‚° í…ŒìŠ¤íŠ¸"""
        holdings = [{
            'ticker': 'AAPL',
            'quantity': 10,
            'avg_price': 150.0,
            'current_price': 170.0
        }]
        
        result = self.service.calculate_profit_loss(holdings)
        
        assert result['total_profit'] == 200.0
        assert result['profit_rate'] == pytest.approx(13.33, 0.01)
    
    def test_empty_portfolio(self):
        """ë¹ˆ í¬íŠ¸í´ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸"""
        result = self.service.get_portfolio_summary("empty_user")
        
        assert result['total_value'] == 0
        assert result['holdings'] == []
```

### í†µí•© í…ŒìŠ¤íŠ¸
```python
# tests/test_integration.py
class TestChatbotIntegration:
    def test_full_chat_flow(self, client):
        """ì „ì²´ ì±—ë´‡ í”Œë¡œìš° í…ŒìŠ¤íŠ¸"""
        # 1. ì„¸ì…˜ ìƒì„±
        response = client.post('/api/auth/login', json={
            'user_id': 'test_user'
        })
        assert response.status_code == 200
        
        # 2. ë©”ì‹œì§€ ì „ì†¡
        response = client.post('/api/chat/send', json={
            'message': 'ì‚¼ì„±ì „ìì— íˆ¬ìí•´ë„ ë ê¹Œìš”?'
        })
        assert response.status_code == 200
        assert 'response' in response.json
        
        # 3. ëŒ€í™” ê¸°ë¡ í™•ì¸
        response = client.get('/api/chat/history')
        assert response.status_code == 200
        assert len(response.json['messages']) > 0
```

---

## ğŸš€ ë°°í¬ ê°€ì´ë“œ

### í™˜ê²½ ì„¤ì •
```bash
# .env íŒŒì¼
FLASK_ENV=production
FLASK_SECRET_KEY=your-secret-key-here
DATABASE_URL=postgresql://user:pass@localhost/pixie
REDIS_URL=redis://localhost:6379
OPENAI_API_KEY=your-openai-key
```

### Docker ì„¤ì •
```dockerfile
# Dockerfile
FROM python:3.9-slim

WORKDIR /app

COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 5000

CMD ["gunicorn", "web.app:app", "-b", "0.0.0.0:5000"]
```

### docker-compose.yml
```yaml
version: '3.8'
services:
  web:
    build: .
    ports:
      - "5000:5000"
    environment:
      - FLASK_ENV=production
      - DATABASE_URL=postgresql://pixie:password@db/pixie
      - REDIS_URL=redis://redis:6379
    depends_on:
      - db
      - redis
  
  db:
    image: postgres:13
    environment:
      - POSTGRES_DB=pixie
      - POSTGRES_USER=pixie
      - POSTGRES_PASSWORD=password
    volumes:
      - postgres_data:/var/lib/postgresql/data
  
  redis:
    image: redis:6
    ports:
      - "6379:6379"

volumes:
  postgres_data:
```

### ë°°í¬ ëª…ë ¹ì–´
```bash
# ë¹Œë“œ ë° ì‹¤í–‰
docker-compose up -d

# ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
docker-compose exec web python -m flask db upgrade

# ë¡œê·¸ í™•ì¸
docker-compose logs -f web
```

---

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê°œë°œ ì „ ì¤€ë¹„ì‚¬í•­
- [ ] Python 3.9+ ì„¤ì¹˜
- [ ] Node.js 14+ ì„¤ì¹˜ (í”„ë¡ íŠ¸ì—”ë“œ ë„êµ¬)
- [ ] PostgreSQL ì„¤ì¹˜
- [ ] Redis ì„¤ì¹˜
- [ ] OpenAI API í‚¤ ë°œê¸‰

### ê°œë°œ ì§„í–‰ ì‚¬í•­
- [ ] í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ì •
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìƒì„±
- [ ] ê¸°ë³¸ ë¼ìš°íŠ¸ êµ¬í˜„
- [ ] ê° í˜ì´ì§€ UI êµ¬í˜„
- [ ] ë°±ì—”ë“œ ì„œë¹„ìŠ¤ êµ¬í˜„
- [ ] AI ê¸°ëŠ¥ í†µí•©
- [ ] í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] ë³´ì•ˆ ì„¤ì •
- [ ] ë°°í¬ ì¤€ë¹„

### í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] í†µí•© í…ŒìŠ¤íŠ¸ ì‘ì„±
- [ ] UI/UX í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ë³´ì•ˆ í…ŒìŠ¤íŠ¸

---

ì´ ë¬¸ì„œëŠ” Pixie íˆ¬ì ì±—ë´‡ì˜ ì „ì²´ ê°œë°œ ê°€ì´ë“œì…ë‹ˆë‹¤. ê° ì„¹ì…˜ì„ ì°¸ê³ í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ ê°œë°œì„ ì§„í–‰í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.