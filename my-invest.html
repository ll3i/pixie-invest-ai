<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MY Ìà¨Ïûê - Pixie AI Ìà¨Ïûê Ïñ¥ÎìúÎ∞îÏù¥Ï†Ä</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --pixie-primary: #1454FE;
            --pixie-primary-dark: #0B3DCF;
            --pixie-secondary: #5E97F4;
            --pixie-dark: #2F2E41;
            --pixie-dark-light: #3F3D56;
            --pixie-gray: #474747;
            --pixie-light-gray: #F5F5F5;
            --pixie-white: #FFFFFF;
            --pixie-black: #000000;
            --pixie-green: #22C55E;
            --pixie-red: #EF4444;
            --pixie-yellow: #F59E0B;
            --pixie-text-muted: #8F8F8F;
            --pixie-gradient: linear-gradient(90deg, #5E97F4 0%, #3B7AFF 100%);
            --pixie-shadow: 0px 2px 4px rgba(0, 0, 0, 0.15);
            --pixie-shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Pretendard', 'Noto Sans KR', sans-serif;
            line-height: 1.6;
            color: var(--pixie-black);
            background: var(--pixie-light-gray);
            overflow-x: hidden;
        }

        /* ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */
        .pixie-navbar {
            background: var(--pixie-white);
            box-shadow: var(--pixie-shadow);
            padding: 20px 134px;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .pixie-nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1920px;
            margin: 0 auto;
        }

        .pixie-logo {
            display: flex;
            align-items: center;
            text-decoration: none;
            font-size: 32px;
            font-weight: 700;
            color: var(--pixie-primary);
        }

        .pixie-nav-menu {
            display: flex;
            gap: 60px;
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .pixie-nav-item {
            text-align: center;
            color: var(--pixie-black);
            font-size: 18px;
            font-weight: 600;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .pixie-nav-item:hover,
        .pixie-nav-item.active {
            color: var(--pixie-primary);
        }

        .pixie-nav-icons {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .pixie-btn {
            padding: 16px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.2s ease;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .pixie-btn-primary {
            background: var(--pixie-gradient);
            color: var(--pixie-white);
            box-shadow: var(--pixie-shadow);
        }

        .pixie-btn-secondary {
            background: linear-gradient(135deg, var(--pixie-green), #16a34a);
            color: var(--pixie-white);
            box-shadow: var(--pixie-shadow);
        }

        .pixie-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--pixie-shadow-lg);
        }

        /* Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà */
        .pixie-main-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        .pixie-page-header {
            text-align: center;
            margin-bottom: 48px;
            background: var(--pixie-white);
            padding: 40px;
            border-radius: 20px;
            box-shadow: var(--pixie-shadow);
        }

        .pixie-page-title {
            font-size: 48px;
            font-weight: 700;
            color: var(--pixie-black);
            margin-bottom: 16px;
        }

        .pixie-page-subtitle {
            font-size: 20px;
            color: var(--pixie-gray);
            max-width: 800px;
            margin: 0 auto;
        }

        /* Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏöîÏïΩ */
        .pixie-portfolio-summary {
            background: var(--pixie-white);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 40px;
            box-shadow: var(--pixie-shadow);
        }

        .pixie-portfolio-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 24px;
        }

        .pixie-portfolio-stat {
            text-align: center;
            padding: 24px;
            border-radius: 16px;
            background: var(--pixie-light-gray);
            position: relative;
        }

        .pixie-portfolio-stat-icon {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .pixie-portfolio-stat-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .pixie-portfolio-stat-label {
            color: var(--pixie-gray);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .pixie-portfolio-stat-change {
            font-size: 12px;
            font-weight: 600;
        }

        /* Ïπ¥Îìú */
        .pixie-card {
            background: var(--pixie-white);
            border-radius: 20px;
            padding: 32px;
            box-shadow: var(--pixie-shadow);
            margin-bottom: 32px;
        }

        .pixie-card h3 {
            color: var(--pixie-black);
            font-weight: 700;
            margin-bottom: 20px;
        }

        /* Ï£ºÏãù Î¶¨Ïä§Ìä∏ */
        .pixie-stock-list {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .pixie-stock-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 20px;
            background: var(--pixie-light-gray);
            border-radius: 16px;
            transition: all 0.2s ease;
            cursor: pointer;
        }

        .pixie-stock-item:hover {
            background: #e8f2ff;
            transform: translateY(-1px);
        }

        .pixie-stock-info {
            flex: 1;
        }

        .pixie-stock-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--pixie-black);
            margin-bottom: 4px;
        }

        .pixie-stock-code {
            font-size: 14px;
            color: var(--pixie-text-muted);
        }

        .pixie-stock-quantity {
            text-align: center;
            margin: 0 20px;
        }

        .pixie-stock-quantity-label {
            font-size: 12px;
            color: var(--pixie-text-muted);
            margin-bottom: 4px;
        }

        .pixie-stock-quantity-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--pixie-black);
        }

        .pixie-stock-price {
            text-align: right;
        }

        .pixie-stock-current-price {
            font-size: 18px;
            font-weight: 700;
            color: var(--pixie-black);
            margin-bottom: 4px;
        }

        .pixie-stock-change {
            font-size: 14px;
            font-weight: 600;
        }

        .pixie-positive { color: var(--pixie-green); }
        .pixie-negative { color: var(--pixie-red); }

        /* Ï∞®Ìä∏ Ïª®ÌÖåÏù¥ÎÑà */
        .pixie-chart-container {
            position: relative;
            height: 400px;
            margin-top: 20px;
        }

        /* AI Ï∂îÏ≤ú ÏÑπÏÖò */
        .pixie-recommendation {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 20px;
            padding: 32px;
            margin-bottom: 32px;
            border: 2px solid var(--pixie-primary);
        }

        .pixie-recommendation-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 24px;
        }

        .pixie-recommendation-icon {
            width: 48px;
            height: 48px;
            background: var(--pixie-gradient);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--pixie-white);
            font-size: 20px;
        }

        .pixie-recommendation-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--pixie-black);
        }

        .pixie-recommendation-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .pixie-recommendation-item {
            background: var(--pixie-white);
            padding: 20px;
            border-radius: 16px;
            box-shadow: var(--pixie-shadow);
            transition: all 0.2s ease;
        }

        .pixie-recommendation-item:hover {
            transform: translateY(-2px);
            box-shadow: var(--pixie-shadow-lg);
        }

        .pixie-recommendation-stock {
            font-size: 18px;
            font-weight: 700;
            color: var(--pixie-black);
            margin-bottom: 8px;
        }

        .pixie-recommendation-reason {
            color: var(--pixie-gray);
            font-size: 14px;
            line-height: 1.5;
        }

        /* Î∞òÏùëÌòï */
        @media (max-width: 768px) {
            .pixie-navbar {
                padding: 20px;
            }

            .pixie-nav-menu {
                display: none;
            }

            .pixie-page-title {
                font-size: 32px;
            }

            .pixie-main-container {
                padding: 20px 15px;
            }

            .pixie-stock-item {
                flex-direction: column;
                text-align: center;
                gap: 16px;
            }

            .pixie-stock-quantity {
                margin: 0;
            }
        }
    </style>
</head>
<body>
    <!-- ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò -->
    <nav class="pixie-navbar">
        <div class="pixie-nav-content">
            <a href="index.html" class="pixie-logo">
                Pixie
            </a>
            <ul class="pixie-nav-menu">
                <li><a href="survey.html" class="pixie-nav-item">Ìà¨Ïûê ÏÑ§Î¨∏</a></li>
                <li><a href="learning.html" class="pixie-nav-item">Ìà¨Ïûê ÌïôÏäµ</a></li>
                <li><a href="chatbot.html" class="pixie-nav-item">AI Ï±óÎ¥á</a></li>
                <li><a href="stock.html" class="pixie-nav-item">Ï£ºÍ∞Ä ÏòàÏ∏°</a></li>
                <li><a href="news.html" class="pixie-nav-item">Îâ¥Ïä§/Ïù¥Ïäà</a></li>
                <li><a href="my-invest.html" class="pixie-nav-item active">MY Ìà¨Ïûê</a></li>
            </ul>
            <div class="pixie-nav-icons">
                <a href="dashboard.html" class="pixie-btn pixie-btn-primary">ÎåÄÏãúÎ≥¥Îìú</a>
            </div>
        </div>
    </nav>

    <!-- Î©îÏù∏ Ïª®ÌÖåÏù¥ÎÑà -->
    <div class="pixie-main-container">
        <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
        <div class="pixie-page-header">
            <h1 class="pixie-page-title">üíº MY Ìà¨Ïûê Ìè¨Ìä∏Ìè¥Î¶¨Ïò§</h1>
            <p class="pixie-page-subtitle">
                Í∞úÏù∏ ÎßûÏ∂§Ìòï Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Î∂ÑÏÑùÍ≥º AI Ï∂îÏ≤úÏùÑ ÌÜµÌï¥<br>
                Îçî ÎÇòÏùÄ Ìà¨Ïûê Í≤∞Ï†ïÏùÑ ÎÇ¥Î¶¨ÏÑ∏Ïöî
            </p>
        </div>

        <!-- Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏöîÏïΩ -->
        <div class="pixie-portfolio-summary">
            <h3 style="color: var(--pixie-black); font-weight: 700; margin-bottom: 24px; text-align: center;">
                <i class="fas fa-chart-pie me-2"></i>Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÌòÑÌô©
            </h3>
            <div class="pixie-portfolio-stats">
                <div class="pixie-portfolio-stat">
                    <div class="pixie-portfolio-stat-icon">üí∞</div>
                    <div class="pixie-portfolio-stat-value" style="color: var(--pixie-primary);">125,450,000</div>
                    <div class="pixie-portfolio-stat-label">Ï¥ù ÏûêÏÇ∞ (Ïõê)</div>
                    <div class="pixie-portfolio-stat-change pixie-positive">+2,450,000 (+1.99%)</div>
                </div>
                <div class="pixie-portfolio-stat">
                    <div class="pixie-portfolio-stat-icon">üìà</div>
                    <div class="pixie-portfolio-stat-value" style="color: var(--pixie-green);">+8.7%</div>
                    <div class="pixie-portfolio-stat-label">ÏàòÏùµÎ•† (YTD)</div>
                    <div class="pixie-portfolio-stat-change pixie-positive">+0.5%p (Ï†ÑÏ£º ÎåÄÎπÑ)</div>
                </div>
                <div class="pixie-portfolio-stat">
                    <div class="pixie-portfolio-stat-icon">üéØ</div>
                    <div class="pixie-portfolio-stat-value" style="color: var(--pixie-yellow);">12</div>
                    <div class="pixie-portfolio-stat-label">Î≥¥Ïú† Ï¢ÖÎ™© Ïàò</div>
                    <div class="pixie-portfolio-stat-change" style="color: var(--pixie-gray);">Í∑†ÌòïÏû°Ìûå Î∂ÑÏÇ∞Ìà¨Ïûê</div>
                </div>
                <div class="pixie-portfolio-stat">
                    <div class="pixie-portfolio-stat-icon">‚öñÔ∏è</div>
                    <div class="pixie-portfolio-stat-value" style="color: var(--pixie-primary);">Ï§ëÎ¶ΩÌòï</div>
                    <div class="pixie-portfolio-stat-label">Ìà¨Ïûê ÏÑ±Ìñ•</div>
                    <div class="pixie-portfolio-stat-change" style="color: var(--pixie-gray);">ÏúÑÌóòÎèÑ 50%</div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-lg-8">
                <!-- Î≥¥Ïú† Ï£ºÏãù -->
                <div class="pixie-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h3><i class="fas fa-list me-2"></i>Î≥¥Ïú† Ï£ºÏãù</h3>
                        <button class="pixie-btn pixie-btn-secondary" onclick="refreshPortfolio()">
                            <i class="fas fa-sync-alt"></i>
                            ÏÉàÎ°úÍ≥†Ïπ®
                        </button>
                    </div>
                    <div class="pixie-stock-list" id="stock-list">
                        <!-- Ï£ºÏãù Î¶¨Ïä§Ìä∏Í∞Ä Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                    </div>
                </div>

                <!-- Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Ï∞®Ìä∏ -->
                <div class="pixie-card">
                    <h3><i class="fas fa-chart-area me-2"></i>Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏÑ±Í≥º</h3>
                    <div class="pixie-chart-container">
                        <canvas id="portfolio-chart"></canvas>
                    </div>
                </div>
            </div>

            <div class="col-lg-4">
                <!-- AI Ï∂îÏ≤ú -->
                <div class="pixie-recommendation">
                    <div class="pixie-recommendation-header">
                        <div class="pixie-recommendation-icon">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div>
                            <h3 class="pixie-recommendation-title">AI Ìà¨Ïûê Ï∂îÏ≤ú</h3>
                            <p style="color: var(--pixie-gray); margin: 0;">ÎãπÏã†Ïùò ÏÑ±Ìñ•Ïóê ÎßûÎäî Ï¢ÖÎ™©</p>
                        </div>
                    </div>
                    <div class="pixie-recommendation-list" id="recommendations">
                        <!-- AI Ï∂îÏ≤úÏù¥ Ïó¨Í∏∞Ïóê ÎèôÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎê©ÎãàÎã§ -->
                    </div>
                </div>

                <!-- ÏûêÏÇ∞ Î∞∞Î∂Ñ -->
                <div class="pixie-card">
                    <h3><i class="fas fa-pie-chart me-2"></i>ÏûêÏÇ∞ Î∞∞Î∂Ñ</h3>
                    <div class="pixie-chart-container" style="height: 300px;">
                        <canvas id="allocation-chart"></canvas>
                    </div>
                </div>

                <!-- ÏµúÍ∑º Í±∞Îûò -->
                <div class="pixie-card">
                    <h3><i class="fas fa-history me-2"></i>ÏµúÍ∑º Í±∞Îûò</h3>
                    <div id="recent-trades">
                        <!-- ÏµúÍ∑º Í±∞Îûò ÎÇ¥Ïó≠Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // ÏÉòÌîå Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Îç∞Ïù¥ÌÑ∞
        const portfolioData = {
            stocks: [
                {
                    name: "ÏÇºÏÑ±Ï†ÑÏûê",
                    code: "005930",
                    quantity: 150,
                    currentPrice: 62700,
                    change: -800,
                    changePercent: -1.26
                },
                {
                    name: "SKÌïòÏù¥ÎãâÏä§",
                    code: "000660",
                    quantity: 80,
                    currentPrice: 125000,
                    change: 2000,
                    changePercent: 1.63
                },
                {
                    name: "ÎÑ§Ïù¥Î≤Ñ",
                    code: "035420",
                    quantity: 50,
                    currentPrice: 185000,
                    change: -3000,
                    changePercent: -1.60
                },
                {
                    name: "Ïπ¥Ïπ¥Ïò§",
                    code: "035720",
                    quantity: 120,
                    currentPrice: 78000,
                    change: 1500,
                    changePercent: 1.96
                },
                {
                    name: "LGÏ†ÑÏûê",
                    code: "066570",
                    quantity: 200,
                    currentPrice: 89000,
                    change: 500,
                    changePercent: 0.56
                }
            ],
            recommendations: [
                {
                    stock: "ÌòÑÎåÄÏ∞®",
                    reason: "Ï†ÑÍ∏∞Ï∞® ÏãúÏû• ÏÑ±Ïû•Í≥º Ìï¥Ïô∏ ÏàòÏ£º Ï¶ùÍ∞ÄÎ°ú Ï§ëÏû•Í∏∞ ÏÑ±Ïû• Ï†ÑÎßù Î∞ùÏùå"
                },
                {
                    stock: "POSCOÌôÄÎî©Ïä§",
                    reason: "2Ï∞®Ï†ÑÏßÄ ÏÜåÏû¨ ÏÇ¨ÏóÖ ÌôïÏû•Í≥º ESG Í≤ΩÏòÅÏúºÎ°ú Í∞ÄÏπò ÏÉÅÏäπ Í∏∞ÎåÄ"
                },
                {
                    stock: "ÏÖÄÌä∏Î¶¨Ïò®",
                    reason: "Î∞îÏù¥Ïò§ ÏùòÏïΩÌíà ÏãúÏû• ÌôïÎåÄÏôÄ Ïã†ÏïΩ ÌååÏù¥ÌîÑÎùºÏù∏ Í∞ïÌôî"
                }
            ]
        };

        let portfolioChart = null;
        let allocationChart = null;

        document.addEventListener('DOMContentLoaded', function() {
            displayStocks();
            displayRecommendations();
            displayRecentTrades();
            createPortfolioChart();
            createAllocationChart();
        });

        function displayStocks() {
            const stockList = document.getElementById('stock-list');
            const stocksHtml = portfolioData.stocks.map(stock => {
                const changeClass = stock.change >= 0 ? 'pixie-positive' : 'pixie-negative';
                const changeSign = stock.change >= 0 ? '+' : '';
                const totalValue = stock.quantity * stock.currentPrice;
                
                return `
                    <div class="pixie-stock-item" onclick="showStockDetail('${stock.code}')">
                        <div class="pixie-stock-info">
                            <div class="pixie-stock-name">${stock.name}</div>
                            <div class="pixie-stock-code">${stock.code}</div>
                        </div>
                        <div class="pixie-stock-quantity">
                            <div class="pixie-stock-quantity-label">Î≥¥Ïú† ÏàòÎüâ</div>
                            <div class="pixie-stock-quantity-value">${stock.quantity.toLocaleString()}Ï£º</div>
                        </div>
                        <div class="pixie-stock-price">
                            <div class="pixie-stock-current-price">${stock.currentPrice.toLocaleString()}Ïõê</div>
                            <div class="pixie-stock-change ${changeClass}">
                                ${changeSign}${stock.change.toLocaleString()}Ïõê (${changeSign}${stock.changePercent}%)
                            </div>
                        </div>
                        <div style="text-align: right; margin-left: 20px;">
                            <div style="font-size: 14px; color: var(--pixie-text-muted); margin-bottom: 4px;">ÌèâÍ∞ÄÏï°</div>
                            <div style="font-size: 18px; font-weight: 700; color: var(--pixie-black);">
                                ${totalValue.toLocaleString()}Ïõê
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
            
            stockList.innerHTML = stocksHtml;
        }

        function displayRecommendations() {
            const recommendations = document.getElementById('recommendations');
            const recommendationsHtml = portfolioData.recommendations.map(rec => `
                <div class="pixie-recommendation-item">
                    <div class="pixie-recommendation-stock">${rec.stock}</div>
                    <div class="pixie-recommendation-reason">${rec.reason}</div>
                </div>
            `).join('');
            
            recommendations.innerHTML = recommendationsHtml;
        }

        function displayRecentTrades() {
            const recentTrades = [
                { type: 'buy', stock: 'ÏÇºÏÑ±Ï†ÑÏûê', quantity: 50, price: 63500, date: '2024-01-08' },
                { type: 'sell', stock: 'Ïπ¥Ïπ¥Ïò§', quantity: 30, price: 76500, date: '2024-01-05' },
                { type: 'buy', stock: 'SKÌïòÏù¥ÎãâÏä§', quantity: 20, price: 123000, date: '2024-01-03' }
            ];

            const tradesHtml = recentTrades.map(trade => {
                const typeText = trade.type === 'buy' ? 'Îß§Ïàò' : 'Îß§ÎèÑ';
                const typeClass = trade.type === 'buy' ? 'pixie-positive' : 'pixie-negative';
                
                return `
                    <div style="padding: 12px 0; border-bottom: 1px solid #e5e5e5;">
                        <div style="display: flex; justify-content: between; align-items: center;">
                            <div>
                                <span class="${typeClass}" style="font-weight: 600;">${typeText}</span>
                                <span style="margin-left: 8px; color: var(--pixie-black);">${trade.stock}</span>
                            </div>
                            <div style="text-align: right; font-size: 12px; color: var(--pixie-text-muted);">
                                ${trade.date}
                            </div>
                        </div>
                        <div style="font-size: 14px; color: var(--pixie-gray); margin-top: 4px;">
                            ${trade.quantity.toLocaleString()}Ï£º √ó ${trade.price.toLocaleString()}Ïõê
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('recent-trades').innerHTML = tradesHtml;
        }

        function createPortfolioChart() {
            const ctx = document.getElementById('portfolio-chart').getContext('2d');
            
            // ÏµúÍ∑º 30Ïùº Îç∞Ïù¥ÌÑ∞ ÏãúÎÆ¨Î†àÏù¥ÏÖò
            const labels = [];
            const data = [];
            const baseValue = 115000000;
            
            for (let i = 29; i >= 0; i--) {
                const date = new Date();
                date.setDate(date.getDate() - i);
                labels.push(`${date.getMonth() + 1}/${date.getDate()}`);
                
                // ÎûúÎç§ Î≥ÄÎèô ÏãúÎÆ¨Î†àÏù¥ÏÖò
                const variation = (Math.random() - 0.5) * 0.02;
                const value = baseValue * (1 + (29 - i) * 0.003 + variation);
                data.push(Math.round(value));
            }

            portfolioChart = new Chart(ctx, {
                type: 'line',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Í∞ÄÏπò',
                        data: data,
                        borderColor: '#1454FE',
                        backgroundColor: 'rgba(20, 84, 254, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'ÏµúÍ∑º 30Ïùº Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ ÏÑ±Í≥º'
                        }
                    },
                    scales: {
                        x: { 
                            display: true,
                            title: { display: true, text: 'ÎÇ†Ïßú' }
                        },
                        y: { 
                            display: true,
                            title: { display: true, text: 'Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Í∞ÄÏπò (Ïõê)' },
                            ticks: {
                                callback: function(value) {
                                    return (value / 100000000).toFixed(1) + 'Ïñµ';
                                }
                            }
                        }
                    }
                }
            });
        }

        function createAllocationChart() {
            const ctx = document.getElementById('allocation-chart').getContext('2d');
            
            // Ï¢ÖÎ™©Î≥Ñ ÎπÑÏ§ë Í≥ÑÏÇ∞
            const totalValue = portfolioData.stocks.reduce((sum, stock) => 
                sum + (stock.quantity * stock.currentPrice), 0);
                
            const allocations = portfolioData.stocks.map(stock => ({
                label: stock.name,
                value: ((stock.quantity * stock.currentPrice) / totalValue * 100).toFixed(1)
            }));

            allocationChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: allocations.map(a => a.label),
                    datasets: [{
                        data: allocations.map(a => a.value),
                        backgroundColor: [
                            '#1454FE',
                            '#22C55E',
                            '#F59E0B',
                            '#EF4444',
                            '#8B5CF6'
                        ],
                        borderWidth: 2,
                        borderColor: '#FFFFFF'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom'
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': ' + context.parsed + '%';
                                }
                            }
                        }
                    }
                }
            });
        }

        function showStockDetail(stockCode) {
            const stock = portfolioData.stocks.find(s => s.code === stockCode);
            if (stock) {
                alert(`${stock.name} (${stock.code}) ÏÉÅÏÑ∏ Ï†ïÎ≥¥\n\nÎ≥¥Ïú† ÏàòÎüâ: ${stock.quantity.toLocaleString()}Ï£º\nÌòÑÏû¨ Í∞ÄÍ≤©: ${stock.currentPrice.toLocaleString()}Ïõê\nÌèâÍ∞Ä ÏÜêÏùµ: ${stock.change >= 0 ? '+' : ''}${(stock.change * stock.quantity).toLocaleString()}Ïõê`);
            }
        }

        function refreshPortfolio() {
            // Ïã§Ï†úÎ°úÎäî APIÎ•º Ìò∏Ï∂úÌïòÏó¨ ÏµúÏã† Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò¥
            alert('Ìè¨Ìä∏Ìè¥Î¶¨Ïò§ Îç∞Ïù¥ÌÑ∞Î•º ÏÉàÎ°úÍ≥†Ïπ®ÌñàÏäµÎãàÎã§.');
            
            // Ï∞®Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏ ÏãúÎÆ¨Î†àÏù¥ÏÖò
            if (portfolioChart) {
                const newData = portfolioChart.data.datasets[0].data.map(value => 
                    value + (Math.random() - 0.5) * 1000000
                );
                portfolioChart.data.datasets[0].data = newData;
                portfolioChart.update();
            }
        }
    </script>
</body>
</html>